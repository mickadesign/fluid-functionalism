{
  "$schema": "https://ui.shadcn.com/schema/registry-item.json",
  "name": "dialog",
  "title": "Dialog",
  "description": "Animated modal dialog with spring-based scale and opacity transitions. Built on Radix UI Dialog with overlay, header, footer, title, and description sub-components.",
  "dependencies": [
    "framer-motion",
    "@radix-ui/react-dialog",
    "lucide-react"
  ],
  "registryDependencies": [
    "utils",
    "https://fluid-functionalism.vercel.app/r/springs.json",
    "https://fluid-functionalism.vercel.app/r/shape-context.json",
    "https://fluid-functionalism.vercel.app/r/button.json"
  ],
  "files": [
    {
      "path": "registry/default/dialog.tsx",
      "content": "\"use client\";\n\nimport {\n  createContext,\n  forwardRef,\n  useContext,\n  useEffect,\n  useState,\n  type ComponentPropsWithoutRef,\n  type HTMLAttributes,\n} from \"react\";\nimport * as DialogPrimitive from \"@radix-ui/react-dialog\";\nimport { motion } from \"framer-motion\";\nimport { X } from \"lucide-react\";\nimport { cn } from \"@/lib/utils\";\nimport { springs } from \"@/lib/springs\";\nimport { useShape } from \"@/lib/shape-context\";\nimport { Button } from \"@/components/ui/button\";\n\nconst DialogOpenContext = createContext(false);\n\nfunction Dialog({\n  children,\n  open: controlledOpen,\n  onOpenChange,\n  ...props\n}: DialogPrimitive.DialogProps) {\n  const [uncontrolledOpen, setUncontrolledOpen] = useState(false);\n  const open = controlledOpen ?? uncontrolledOpen;\n  const handleOpenChange = onOpenChange ?? setUncontrolledOpen;\n\n  return (\n    <DialogOpenContext.Provider value={open}>\n      <DialogPrimitive.Root open={open} onOpenChange={handleOpenChange} {...props}>\n        {children}\n      </DialogPrimitive.Root>\n    </DialogOpenContext.Provider>\n  );\n}\n\nconst DialogTrigger = DialogPrimitive.Trigger;\nconst DialogClose = DialogPrimitive.Close;\n\ninterface DialogContentProps\n  extends ComponentPropsWithoutRef<typeof DialogPrimitive.Content> {\n  size?: \"sm\" | \"lg\";\n}\n\nconst DialogContent = forwardRef<HTMLDivElement, DialogContentProps>(\n  ({ className, children, size = \"sm\", ...props }, ref) => {\n    const open = useContext(DialogOpenContext);\n    const shape = useShape();\n    const [mounted, setMounted] = useState(false);\n\n    useEffect(() => {\n      if (open) setMounted(true);\n    }, [open]);\n\n    const handleExitComplete = () => {\n      if (!open) setMounted(false);\n    };\n\n    if (!mounted) return null;\n\n    return (\n      <DialogPrimitive.Portal forceMount>\n        <DialogPrimitive.Overlay asChild forceMount>\n          <motion.div\n            className=\"fixed inset-0 z-50 bg-black/40 dark:bg-black/80\"\n            initial={{ opacity: 0 }}\n            animate={{ opacity: open ? 1 : 0 }}\n            transition={open ? springs.slow : springs.moderate}\n          />\n        </DialogPrimitive.Overlay>\n        <DialogPrimitive.Content ref={ref} asChild forceMount {...props}>\n          <motion.div\n            className={cn(\n              \"fixed left-1/2 top-1/2 z-50 w-[calc(100%-2rem)]\",\n              \"bg-card border border-border/60\",\n              \"shadow-[0_4px_12px_rgba(0,0,0,0.02)] dark:shadow-[0_8px_32px_rgba(0,0,0,0.5)]\",\n              \"p-6 focus:outline-none\",\n              size === \"sm\" && \"max-w-[400px]\",\n              size === \"lg\" && \"max-w-[540px]\",\n              shape.container,\n              className\n            )}\n            initial={{ opacity: 0, scale: 0.97, x: \"-50%\", y: \"-50%\" }}\n            animate={{\n              opacity: open ? 1 : 0,\n              scale: open ? 1 : 0.97,\n              x: \"-50%\",\n              y: \"-50%\",\n            }}\n            transition={open ? springs.slow : springs.moderate}\n            onAnimationComplete={handleExitComplete}\n          >\n            {children}\n            <DialogPrimitive.Close asChild>\n              <Button\n                variant=\"ghost\"\n                size=\"icon-sm\"\n                className=\"absolute right-3 top-3\"\n              >\n                <X />\n                <span className=\"sr-only\">Close</span>\n              </Button>\n            </DialogPrimitive.Close>\n          </motion.div>\n        </DialogPrimitive.Content>\n      </DialogPrimitive.Portal>\n    );\n  }\n);\nDialogContent.displayName = \"DialogContent\";\n\nfunction DialogHeader({ className, ...props }: HTMLAttributes<HTMLDivElement>) {\n  return (\n    <div\n      className={cn(\"flex flex-col gap-1.5 mb-4\", className)}\n      {...props}\n    />\n  );\n}\n\nfunction DialogFooter({ className, ...props }: HTMLAttributes<HTMLDivElement>) {\n  return (\n    <div\n      className={cn(\"flex justify-end gap-2 mt-6\", className)}\n      {...props}\n    />\n  );\n}\n\nconst DialogTitle = forwardRef<\n  HTMLHeadingElement,\n  ComponentPropsWithoutRef<typeof DialogPrimitive.Title>\n>(({ className, ...props }, ref) => (\n  <DialogPrimitive.Title\n    ref={ref}\n    className={cn(\"text-[16px] text-foreground leading-tight\", className)}\n    style={{ fontVariationSettings: \"'wght' 700\" }}\n    {...props}\n  />\n));\nDialogTitle.displayName = \"DialogTitle\";\n\nconst DialogDescription = forwardRef<\n  HTMLParagraphElement,\n  ComponentPropsWithoutRef<typeof DialogPrimitive.Description>\n>(({ className, ...props }, ref) => (\n  <DialogPrimitive.Description\n    ref={ref}\n    className={cn(\"text-[13px] text-muted-foreground\", className)}\n    {...props}\n  />\n));\nDialogDescription.displayName = \"DialogDescription\";\n\nexport {\n  Dialog,\n  DialogTrigger,\n  DialogContent,\n  DialogHeader,\n  DialogFooter,\n  DialogTitle,\n  DialogDescription,\n  DialogClose,\n};\n",
      "type": "registry:ui"
    }
  ],
  "type": "registry:ui"
}
